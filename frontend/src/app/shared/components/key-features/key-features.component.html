<div class="key-features bg-white py-16">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">

    <h2 class="mb-8 text-center text-3xl font-bold text-emerald-700 md:text-4xl">
      Key Features
    </h2>

    <div class="rounded-lg bg-gray-50 shadow-sm animate-fadeIn">

      <nav class="flex flex-wrap justify-center border-b border-gray-200">
        @for (feature of features; track feature.label; let i = $index) {
          <button
            (click)="selected = i"
            [class.border-emerald-700]="selected === i"
            [class.border-transparent]="selected !== i"
            [class.text-emerald-700]="selected === i"
            [class.text-gray-500]="selected !== i"
            class="flex items-center gap-2 px-4 py-3 font-medium transition
                   border-b-2 -mb-px cursor-pointer"
            type="button"
          >
            <i [class]="feature.icon + ' text-base'"></i>
            {{ feature.label }}
          </button>
        }
      </nav>

      @if (features.length) {
        <div class="p-6">
          <div class="grid gap-8 md:grid-cols-2">
            <img
              [alt]="features[selected].imageAlt"
              [ngSrc]="features[selected].imageUrl"
              class="aspect-video w-full rounded-lg object-cover shadow-md
                     transition-transform duration-300 hover:scale-105"
              fill
              ngOptimizedImage
            />

            <div>
              <h3 class="mb-4 text-2xl font-medium text-emerald-800">
                {{ features[selected].title }}
              </h3>

              <ul class="space-y-2 list-disc pl-5">
                @for (bulletPoint of features[selected].bulletPoints; track bulletPoint) {
                  <li>{{ bulletPoint }}</li>
                }
              </ul>

            </div>
          </div>
        </div>
      }

    </div>
  </div>
</div>
