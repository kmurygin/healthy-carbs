<header class="sticky top-0 z-50 w-full bg-white/90 backdrop-blur supports-[backdrop-filter]:bg-white/70">
  <nav
    aria-label="Primary"
    class="mx-auto flex max-w-7xl items-center justify-between p-4 sm:p-6 lg:px-8"
  >

    <a [routerLink]="['/']"
       class="group inline-flex items-center gap-2
          focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 rounded-md"
    >
      <h1
        class="text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight
        text-emerald-900 transition-colors duration-200 group-hover:text-emerald-700"
      >
        Healthy <span class="text-emerald-600">Carbs</span>
      </h1>
      <span class="sr-only">Homepage</span>
    </a>

    <button
      aria-controls="mobile-menu"
      aria-expanded="false"
      aria-label="Open main menu"
      class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5
        text-gray-700 lg:hidden focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600"
      command="show-modal"
      commandfor="mobile-menu"
      type="button"
    >
      <svg aria-hidden="true" class="h-6 w-6" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
        <path d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
    </button>

    <div class="hidden lg:flex lg:items-center lg:gap-x-10">
      <a
        class="text-sm font-semibold text-gray-900 hover:text-emerald-800
            focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 rounded"
        routerLink="/features"
      >
        Features
      </a>

      <a
        class="text-sm font-semibold text-gray-900 hover:text-emerald-800
            focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 rounded"
        routerLink="/blog"
      >
        Blog
      </a>

      <a
        class="text-sm font-semibold text-gray-900 hover:text-emerald-800
            focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 rounded"
        routerLink="/pricing"
      >
        Pricing
      </a>

      <a
        class="text-sm font-semibold text-gray-900 hover:text-emerald-800
            focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 rounded"
        routerLink="/about-us"
      >
        About us
      </a>

      @if (!isLoggedIn) {
        <a routerLink="/login"
           class="text-sm font-semibold text-gray-900 hover:text-emerald-800
              focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 rounded"
        >
          Log in
        </a>
        <a routerLink="/register"
           class="text-sm font-semibold text-emerald-800 hover:text-emerald-700
              focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 rounded"
        >
          Register
        </a>
      } @else {
        <a routerLink="/user"
           class="inline-flex items-center gap-2 text-sm font-semibold text-emerald-800 hover:text-emerald-700
          focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 rounded"
        >
          <i class="fa-solid fa-circle-user fa-fw text-base" aria-hidden="true"></i>
          <span>{{ username }}</span>
        </a>
        <button (click)="logout()"
                class="text-sm font-semibold text-gray-900 hover:text-emerald-800
                  focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 rounded"
        >
          Logout
        </button>
      }
    </div>

  </nav>

  <dialog class="backdrop:bg-black/20 lg:hidden" id="mobile-menu">
    <div class="fixed inset-0 z-50 flex justify-end">
      <div class="h-full w-full max-w-sm overflow-y-auto bg-white p-6 shadow-xl ring-1 ring-gray-900/10">
        <div class="flex items-center justify-between">
          <a aria-label="Healthy Carbs" class="-m-1.5 p-1.5" routerLink="/">
            <h2 class="text-lg font-extrabold tracking-tight text-emerald-900">
              Healthy <span class="text-emerald-600">Carbs</span>
            </h2>
          </a>
          <button
            aria-label="Close menu"
            class="-m-2.5 rounded-md p-2.5 text-gray-700
                focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600"
            command="close"
            commandfor="mobile-menu"
            type="button"
          >
            <i aria-hidden="true" class="fa-solid fa-xmark text-2xl"></i>
          </button>
        </div>

        <nav class="mt-6 space-y-4">
          @if (!isLoggedIn) {
            <a routerLink="/login"
               class="flex items-center gap-3 text-base font-semibold text-gray-900 hover:text-emerald-800"
            >
              <i class="fa-solid fa-right-to-bracket fa-fw text-xl" aria-hidden="true"></i>
              <span>Log&nbsp;in</span>
            </a>

            <a routerLink="/register"
               class="flex items-center gap-3 text-base font-semibold text-gray-900 hover:text-emerald-800"
            >
              <i class="fa-solid fa-user-plus fa-fw text-xl" aria-hidden="true"></i>
              <span>Register</span>
            </a>
          } @else {
            <a routerLink="/user"
               class="flex items-center gap-3 text-base font-semibold text-gray-900 hover:text-emerald-800"
            >
              <i class="fa-solid fa-circle-user fa-fw text-xl" aria-hidden="true"></i>
              <span>{{ username }}</span>
            </a>
            <button (click)="logout()"
                    class="flex w-full items-center gap-3 text-left text-base font-semibold text-gray-900 hover:text-emerald-800"
            >
              <i class="fa-solid fa-right-from-bracket fa-fw text-xl" aria-hidden="true"></i>
              <span>Logout</span>
            </button>
          }

          <hr class="my-6 border-gray-200"/>

          <a class="flex items-center gap-3 text-base font-semibold text-gray-900 hover:text-emerald-800"
             routerLink="/features">
            <i aria-hidden="true" class="fa-solid fa-layer-group fa-fw text-xl"></i>
            <span>Features</span>
          </a>

          <a class="flex items-center gap-3 text-base font-semibold text-gray-900 hover:text-emerald-800"
             routerLink="/blog">
            <i aria-hidden="true" class="fa-solid fa-blog fa-fw text-xl"></i>
            <span>Blog</span>
          </a>

          <a class="flex items-center gap-3 text-base font-semibold text-gray-900 hover:text-emerald-800"
             routerLink="/pricing">
            <i aria-hidden="true" class="fa-solid fa-tags fa-fw text-xl"></i>
            <span>Pricing</span>
          </a>

          <a class="flex items-center gap-3 text-base font-semibold text-gray-900 hover:text-emerald-800"
             routerLink="/about-us">
            <i aria-hidden="true" class="fa-solid fa-circle-info fa-fw text-xl"></i>
            <span>About us</span>
          </a>

        </nav>
      </div>
    </div>
  </dialog>
</header>
