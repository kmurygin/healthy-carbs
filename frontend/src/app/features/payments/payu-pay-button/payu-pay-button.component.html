<button
  (click)="onPay()"
  [attr.aria-busy]="isPending() ? 'true' : 'false'"
  [attr.data-state]="isPending() ? 'pending' : 'idle'"
  [class]="payButtonClasses()"
  [disabled]="isPending() || externallyDisabled()"
  type="button"
>
  @if (isPending()) {
    <i class="fa-solid fa-spinner fa-spin mr-2"></i> Redirecting to PayUâ€¦
  } @else {
    Buy
  }
</button>

@if (errorMessage()) {
  <app-error-message [message]="errorMessage()!"/>
}
