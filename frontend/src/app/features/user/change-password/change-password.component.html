<div class="mx-auto max-w-md rounded-lg bg-white p-8 shadow-sm">
  <h2 class="mb-6 text-center text-2xl font-semibold text-emerald-700">
    Change Password
  </h2>

  <form (ngSubmit)="onSubmit()" [formGroup]="form" class="space-y-6">
    <div>
      <label class="mb-1 block text-sm font-medium text-gray-700" for="oldPassword">
        Old Password
      </label>
      <input
        autocomplete="current-password"
        class="input"
        formControlName="oldPassword"
        id="oldPassword"
        placeholder="Old Password"
        type="password"
      />
      @if (formControl.oldPassword.hasError('required') && formControl.oldPassword.touched) {
        <p class="error">Your old (current) password is required</p>
      }
    </div>

    <div>
      <label class="mb-1 block text-sm font-medium text-gray-700" for="newPassword">
        New Password
      </label>
      <input
        autocomplete="new-password"
        class="input"
        formControlName="newPassword"
        id="newPassword"
        placeholder="New Password"
        type="password"
      />
      @if (formControl.newPassword.hasError('required') && formControl.newPassword.touched) {
        <p class="error">Your new password is required</p>
      }
    </div>

    <button [disabled]="form.invalid"
            class="w-full flex items-center justify-center gap-2 rounded-md bg-emerald-600 px-4 py-2
                 text-white text-sm font-medium transition hover:bg-emerald-700 disabled:opacity-50
                   disabled:pointer-events-none"
            type="submit">
      Update Password
    </button>

    @if (errorMessage()) {
      <p
        class="rounded-md border border-red-300 bg-red-50 px-3 py-2 text-center
               text-sm font-medium text-red-800 shadow-sm"
      >
        {{ errorMessage() }}
      </p>
    }

    @if (infoMessage()) {
      <p
        class="rounded-md border border-green-300 bg-green-50 px-3 py-2 text-center
               text-sm font-medium text-green-800 shadow-sm"
      >
        {{ infoMessage() }}
      </p>
    }

  </form>
</div>
