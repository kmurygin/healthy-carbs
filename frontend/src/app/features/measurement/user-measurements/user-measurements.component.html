<div class="mx-auto max-w-screen-2xl space-y-8 p-6">
  <div
    class="flex flex-col sm:flex-row justify-between items-start
    sm:items-center gap-4 border-b border-gray-200 pb-6"
  >
    <div>
      <h1 class="text-3xl font-bold text-gray-900">My Measurements</h1>
      <p class="text-gray-500 mt-1">Track your weight and body circumference history.</p>
    </div>

    <div class="flex flex-col sm:flex-row gap-3 w-full sm:w-auto">
      <button
        (click)="openAddForm()"
        class="inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm
        text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500
        transition-colors hover:cursor-pointer"
        type="button"
      >
        <i class="fa-solid fa-plus mr-2"></i>
        <span>Add Measurement</span>
      </button>

      <button
        (click)="openEditRecentForm()"
        [disabled]="!(latestMeasurement())"
        class="inline-flex items-center justify-center px-4 py-2 rounded-lg shadow-sm
        text-sm font-medium border border-gray-300 bg-white text-gray-700
        hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500
        disabled:opacity-50 disabled:cursor-not-allowed transition-colors hover:cursor-pointer"
        type="button"
      >
        <i class="fa-solid fa-pen-to-square mr-2"></i>
        <span>Edit Recent</span>
      </button>
    </div>
  </div>

  @if (showForm()) {
    <app-measurement-form
      (cancelled)="closeForm()"
      (success)="onFormSuccess()"
      [initialMeasurement]="editingMeasurement()"
    />
  }

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    @for (type of measurementTypes; track type.key) {
      <app-measurement-chart-card
        [measurementHistory]="historyData() ?? []"
        [measurementType]="type"
      />
    }
  </div>
</div>
