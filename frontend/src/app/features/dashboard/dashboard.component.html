<div class="dashboard-container">

  <div class="charts-section">
    <h2>Twoje statystyki</h2>

    <div [class.single-column]="isSmallScreen" class="charts-grid">

      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>Postęp wagi</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="chart-container">
            <ngx-charts-line-chart
              [autoScale]="true"
              [gradient]="gradient"
              [legendPosition]="legendPosition"
              [legend]="!isSmallScreen"
              [results]="weightData"
              [scheme]="colorScheme"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [timeline]="timeline"
              [view]="view"
              [xAxisLabel]="xAxisLabel"
              [xAxis]="showXAxis"
              [yAxisLabel]="yAxisLabel"
              [yAxis]="showYAxis">
            </ngx-charts-line-chart>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>Makroskładniki</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="chart-container">
            <ngx-charts-pie-chart
              [doughnut]="isDoughnut"
              [gradient]="gradient"
              [labels]="showLabels"
              [legendPosition]="legendPosition"
              [legend]="!isSmallScreen"
              [results]="caloriesData"
              [scheme]="colorScheme"
              [view]="view">
            </ngx-charts-pie-chart>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <div class="dashboard-grid">
    @for (category of categories; track category) {
      <mat-card class="dashboard-card">
        <img ngOptimizedImage mat-card-image [src]="category.image" alt="{{ category.name }}"/>

        <mat-card-content>
          <h3 class="card-title">{{ category.name }}</h3>
        </mat-card-content>

        <mat-card-actions>
          <button mat-raised-button color="primary" [routerLink]="['/', category.route]">Zobacz</button>
        </mat-card-actions>
      </mat-card>
    }
  </div>

</div>
