<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Your Weekly Meal Plan</title>
    <style>
        body {
            font-family: Helvetica, Arial, sans-serif;
            color: #333;
        }

        h1 {
            font-size: 24px;
            text-align: center;
            margin-bottom: 20px;
            color: #000;
        }

        h2 {
            font-size: 18px;
            color: #2F4F4F;
            margin-top: 25px;
            margin-bottom: 15px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
        }

        h3 {
            font-size: 14px;
            font-weight: bold;
            margin-top: 15px;
            margin-bottom: 5px;
        }

        h4 {
            font-size: 12px;
            font-weight: bold;
            margin-top: 10px;
            margin-bottom: 5px;
        }

        .recipe-description {
            font-size: 10px;
            font-style: italic;
            margin-bottom: 10px;
            color: #555;
        }

        ul {
            padding-left: 20px;
            margin-top: 0;
            margin-bottom: 10px;
        }

        li {
            font-size: 11px;
            line-height: 1.5;
        }

        .instructions {
            font-size: 11px;
            white-space: pre-wrap;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>

<h1>Your Weekly Meal Plan</h1>

<div th:each="day : ${mealPlan.days}">

    <h2 th:text="${#strings.capitalizeWords(#strings.toLowerCase(day.dayOfWeek.toString()))}">
    </h2>

    <div th:each="mealPlanRecipe : ${day.recipes}">
        <div th:with="recipe=${mealPlanRecipe.recipe}">

            <h3 th:text="${recipe.name}">Recipe Name</h3>

            <p class="recipe-description"
               th:if="${recipe.description != null and !recipe.description.isBlank()}"
               th:text="${recipe.description}">
            </p>

            <h4>Ingredients:</h4>
            <ul>
                <li th:each="ri : ${recipe.ingredients}"
                    th:text="${ri.ingredient.name + ' - ' + #numbers.formatDecimal(ri.quantity, 1, 2) + ' ' + ri.ingredient.unit}">
                </li>
            </ul>

            <div th:if="${recipe.instructions != null and !recipe.instructions.isBlank()}">
                <h4>Instructions:</h4>
                <p class="instructions" th:text="${recipe.instructions}">
                </p>
            </div>
        </div>
    </div>
</div>

</body>
</html>