databaseChangeLog:
  - changeSet:
      id: add-blog-posts-table
      author: kmurygin
      changes:
        - sql:
            sql: |
              CREATE TABLE blog_posts (
                id BIGSERIAL PRIMARY KEY,
                title VARCHAR(255) NOT NULL,
                content TEXT NOT NULL,
                summary TEXT,
                author_id BIGINT NOT NULL,
                created_at TIMESTAMP,
                updated_at TIMESTAMP,
                CONSTRAINT fk_blog_posts_author
                  FOREIGN KEY (author_id)
                  REFERENCES users (id)
              );

  - changeSet:
      id: add-blog-comments-table
      author: kmurygin
      changes:
        - sql:
            sql: |
              CREATE TABLE blog_comments (
                id BIGSERIAL PRIMARY KEY,
                content TEXT NOT NULL,
                post_id BIGINT NOT NULL,
                author_id BIGINT NOT NULL,
                created_at TIMESTAMP,
                CONSTRAINT fk_blog_comments_post
                  FOREIGN KEY (post_id)
                  REFERENCES blog_posts (id),
                CONSTRAINT fk_blog_comments_author
                  FOREIGN KEY (author_id)
                  REFERENCES users (id)
              );