databaseChangeLog:
  - changeSet:
      id: add-offers-table
      author: kmurygin
      changes:
        - sql:
            sql: |
              CREATE TABLE offers (
                id BIGSERIAL NOT NULL PRIMARY KEY,
                title VARCHAR(100) NOT NULL,
                description TEXT NOT NULL,
                price INT NOT NULL,
                currency VARCHAR(10) NOT NULL
              );
              
              CREATE TABLE offer_feature (
                offer_id BIGINT NOT NULL,
                feature VARCHAR(255) NOT NULL,
                PRIMARY KEY (offer_id, feature),
                CONSTRAINT fk_offer_feature_to_offer
                  FOREIGN KEY (offer_id)
                  REFERENCES offers (id)
                  ON DELETE CASCADE
              );